{"ast":null,"code":"import _classCallCheck from \"/var/www/html/react-php-contact-form/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/react-php-contact-form/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/react-php-contact-form/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/react-php-contact-form/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/react-php-contact-form/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/html/react-php-contact-form/src/components/Form/index.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport \"./styles.css\";\n/**\n * @component Form\n * @props - { object } -  config\n */\n\nvar Form =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Form, _React$Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n\n    _this.handleFormSubmit = function (e) {\n      e.preventDefault();\n      axios({\n        method: \"post\",\n        url: \"\".concat(process.env.REACT_APP_API),\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        data: _this.state\n      }).then(function (result) {\n        console.log('result============', result);\n\n        if (result.data.sent) {\n          _this.setState({\n            mailSent: result.data.sent\n          });\n\n          _this.setState({\n            error: false\n          });\n        } else {\n          _this.setState({\n            error: true\n          });\n        }\n      }).catch(function (error) {\n        return _this.setState({\n          error: error.message\n        });\n      });\n    };\n\n    _this.handleChange = function (e, field) {\n      var value = e.target.value;\n      var updateValue = {};\n      updateValue[field] = value;\n\n      _this.setState(updateValue);\n    };\n\n    _this.state = {\n      mailSent: false,\n      error: null\n    };\n    return _this;\n  }\n  /**\n  * @function handleFormSubmit\n  * @param e { obj } - form event\n  * @return void\n  */\n\n\n  _createClass(Form, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props$config = this.props.config,\n          title = _this$props$config.title,\n          successMessage = _this$props$config.successMessage,\n          errorMessage = _this$props$config.errorMessage,\n          fieldsConfig = _this$props$config.fieldsConfig;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, fieldsConfig && fieldsConfig.map(function (field) {\n        return React.createElement(React.Fragment, {\n          key: field.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, field.type !== \"textarea\" ? React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, field.label), React.createElement(\"input\", {\n          type: field.type,\n          className: field.klassName,\n          placeholder: field.placeholder,\n          value: field.name,\n          onChange: function onChange(e) {\n            return _this2.handleChange(e, field.fieldName);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        })) : React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, field.label), React.createElement(\"textarea\", {\n          className: field.klassName,\n          placeholder: field.placeholder,\n          onChange: function onChange(e) {\n            return _this2.handleChange(e, field.fieldName);\n          },\n          value: field.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        })));\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        onClick: function onClick(e) {\n          return _this2.handleFormSubmit(e);\n        },\n        value: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.state.mailSent && React.createElement(\"div\", {\n        className: \"sucsess\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, successMessage), this.state.error && React.createElement(\"div\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, errorMessage)))));\n    }\n  }]);\n\n  return Form;\n}(React.Component);\n\nexport default Form; //propTypes for the component\n\nForm.propTypes = {\n  config: PropTypes.object.isRequired\n};","map":{"version":3,"sources":["/var/www/html/react-php-contact-form/src/components/Form/index.js"],"names":["React","PropTypes","axios","Form","props","handleFormSubmit","e","preventDefault","method","url","process","env","REACT_APP_API","headers","data","state","then","result","console","log","sent","setState","mailSent","error","catch","message","handleChange","field","value","target","updateValue","config","title","successMessage","errorMessage","fieldsConfig","map","id","type","label","klassName","placeholder","name","fieldName","Component","propTypes","object","isRequired"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AAEA;;;;;IAIMC,I;;;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;;AADiB,UAcnBC,gBAdmB,GAcA,UAAAC,CAAC,EAAI;AACtBA,MAAAA,CAAC,CAACC,cAAF;AACAL,MAAAA,KAAK,CAAC;AACJM,QAAAA,MAAM,EAAE,MADJ;AAEJC,QAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,CAFC;AAGJC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SAHL;AAIJC,QAAAA,IAAI,EAAE,MAAKC;AAJP,OAAD,CAAL,CAMGC,IANH,CAMQ,UAAAC,MAAM,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCF,MAAjC;;AACA,YAAIA,MAAM,CAACH,IAAP,CAAYM,IAAhB,EAAsB;AACpB,gBAAKC,QAAL,CAAc;AAAEC,YAAAA,QAAQ,EAAEL,MAAM,CAACH,IAAP,CAAYM;AAAxB,WAAd;;AACA,gBAAKC,QAAL,CAAc;AAAEE,YAAAA,KAAK,EAAE;AAAT,WAAd;AACD,SAHD,MAGK;AACH,gBAAKF,QAAL,CAAc;AAAEE,YAAAA,KAAK,EAAE;AAAT,WAAd;AACD;AACF,OAdH,EAeGC,KAfH,CAeS,UAAAD,KAAK;AAAA,eAAI,MAAKF,QAAL,CAAc;AAAEE,UAAAA,KAAK,EAAEA,KAAK,CAACE;AAAf,SAAd,CAAJ;AAAA,OAfd;AAgBD,KAhCkB;;AAAA,UAyCnBC,YAzCmB,GAyCJ,UAACpB,CAAD,EAAIqB,KAAJ,EAAc;AAC3B,UAAIC,KAAK,GAAGtB,CAAC,CAACuB,MAAF,CAASD,KAArB;AACA,UAAIE,WAAW,GAAG,EAAlB;AACAA,MAAAA,WAAW,CAACH,KAAD,CAAX,GAAqBC,KAArB;;AACA,YAAKP,QAAL,CAAcS,WAAd;AACD,KA9CkB;;AAEjB,UAAKf,KAAL,GAAa;AACXO,MAAAA,QAAQ,EAAE,KADC;AAEXC,MAAAA,KAAK,EAAE;AAFI,KAAb;AAFiB;AAMlB;AAED;;;;;;;;;6BAwCS;AAAA;;AAAA,+BACuD,KAAKnB,KAAL,CAAW2B,MADlE;AAAA,UACCC,KADD,sBACCA,KADD;AAAA,UACQC,cADR,sBACQA,cADR;AAAA,UACwBC,YADxB,sBACwBA,YADxB;AAAA,UACsCC,YADtC,sBACsCA,YADtC;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKH,KAAL,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,MAAM,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGG,YAAY,IAAIA,YAAY,CAACC,GAAb,CAAiB,UAAAT,KAAK,EAAI;AACvC,eACE,oBAAC,KAAD,CAAO,QAAP;AAAgB,UAAA,GAAG,EAAEA,KAAK,CAACU,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGV,KAAK,CAACW,IAAN,KAAe,UAAf,GACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQX,KAAK,CAACY,KAAd,CADF,EAEE;AAAO,UAAA,IAAI,EAAEZ,KAAK,CAACW,IAAnB;AAA0B,UAAA,SAAS,EAAEX,KAAK,CAACa,SAA3C;AAAsD,UAAA,WAAW,EAAEb,KAAK,CAACc,WAAzE;AACE,UAAA,KAAK,EAAEd,KAAK,CAACe,IADf;AACqB,UAAA,QAAQ,EAAE,kBAAApC,CAAC;AAAA,mBAAI,MAAI,CAACoB,YAAL,CAAkBpB,CAAlB,EAAqBqB,KAAK,CAACgB,SAA3B,CAAJ;AAAA,WADhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CADD,GAQC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQhB,KAAK,CAACY,KAAd,CADF,EAEE;AAAU,UAAA,SAAS,EAAEZ,KAAK,CAACa,SAA3B;AAAsC,UAAA,WAAW,EAAEb,KAAK,CAACc,WAAzD;AAAsE,UAAA,QAAQ,EAAE,kBAAAnC,CAAC;AAAA,mBAAI,MAAI,CAACoB,YAAL,CAAkBpB,CAAlB,EAAqBqB,KAAK,CAACgB,SAA3B,CAAJ;AAAA,WAAjF;AAA4H,UAAA,KAAK,EAAEhB,KAAK,CAACe,IAAzI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CATJ,CADF;AAiBD,OAlBc,CADnB,EAoBE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,OAAO,EAAE,iBAAApC,CAAC;AAAA,iBAAI,MAAI,CAACD,gBAAL,CAAsBC,CAAtB,CAAJ;AAAA,SAA/B;AAA6D,QAAA,KAAK,EAAC,QAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBF,EAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKS,KAAL,CAAWO,QAAX,IAAuB;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0BW,cAA1B,CAD1B,EAEG,KAAKlB,KAAL,CAAWQ,KAAX,IAAoB;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwBW,YAAxB,CAFvB,CArBF,CADF,CAFF,CADF;AAiCD;;;;EApFgBlC,KAAK,CAAC4C,S;;AAuFzB,eAAezC,IAAf,C,CACA;;AACAA,IAAI,CAAC0C,SAAL,GAAiB;AACfd,EAAAA,MAAM,EAAE9B,SAAS,CAAC6C,MAAV,CAAiBC;AADV,CAAjB","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport \"./styles.css\";\n\n/**\n * @component Form\n * @props - { object } -  config\n */\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mailSent: false,\n      error: null\n    };\n  }\n\n  /**\n  * @function handleFormSubmit\n  * @param e { obj } - form event\n  * @return void\n  */\n  \n  handleFormSubmit = e => {\n    e.preventDefault();\n    axios({\n      method: \"post\",\n      url: `${process.env.REACT_APP_API}`,\n      headers: { \"content-type\": \"application/json\" },\n      data: this.state\n    })\n      .then(result => {\n        console.log('result============',result);\n        if (result.data.sent) {         \n          this.setState({ mailSent: result.data.sent  });\n          this.setState({ error: false });\n        }else{\n          this.setState({ error: true });\n        }\n      })\n      .catch(error => this.setState({ error: error.message }));\n  };\n\n  /**\n    * @function handleChange\n    * @param e { obj } - change event\n    * @param field { string } - namve of the field\n    * @return void\n   */\n\n  handleChange = (e, field) => {\n    let value = e.target.value;\n    let updateValue = {};\n    updateValue[field] = value;\n    this.setState(updateValue);\n  };\n\n  render() {\n    const { title, successMessage, errorMessage, fieldsConfig } = this.props.config;\n    return (\n      <div className=\"App\">\n        <h2>{title}</h2>\n        <div>\n          <form action=\"#\">\n            {fieldsConfig && fieldsConfig.map(field => {\n                return (\n                  <React.Fragment key={field.id}>\n                    {field.type !== \"textarea\" ? (\n                      <React.Fragment>\n                        <label>{field.label}</label>\n                        <input type={field.type}  className={field.klassName} placeholder={field.placeholder}\n                          value={field.name} onChange={e => this.handleChange(e, field.fieldName)}\n                        />\n                      </React.Fragment>\n                    ) : (\n                      <React.Fragment>\n                        <label>{field.label}</label>\n                        <textarea className={field.klassName} placeholder={field.placeholder} onChange={e => this.handleChange(e, field.fieldName)} value={field.name} />\n                      </React.Fragment>\n                    )}\n                  </React.Fragment>\n                );\n              })}\n            <input type=\"submit\" onClick={e => this.handleFormSubmit(e)} value=\"Submit\" />\n            <div>\n              {this.state.mailSent && <div className=\"sucsess\">{successMessage}</div>}\n              {this.state.error && <div className=\"error\">{errorMessage}</div>}\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Form;\n//propTypes for the component\nForm.propTypes = {\n  config: PropTypes.object.isRequired\n};\n"]},"metadata":{},"sourceType":"module"}